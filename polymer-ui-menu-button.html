<!--
Copyright 2013 The Polymer Authors. All rights reserved.
Use of this source code is governed by a BSD-style
license that can be found in the LICENSE file.
-->
<!--
/**
 * @module Polymer Elements
 */
-->
<link rel="import" href="../polymer-ui-icon-button/polymer-ui-icon-button.html"/>
<link rel="import" href="../polymer-ui-overlay-menu/polymer-ui-overlay-menu.html"/>
<polymer-element name="polymer-ui-menu-button" attributes="src icon opened responsive valign selected selectedItem selectedClass valueattr multi">
  <template>
    <link rel="stylesheet" href="polymer-ui-menu-button.css" />
    <polymer-ui-icon-button id="button" on-tap="toggle" src="{{src}}" icon="{{icon}}" active="{{opened}}"></polymer-ui-icon-button>
    <div responsive="{{responsive}}" valign="{{valign}}">
      <polymer-ui-overlay-menu id="overlay" opened="{{opened}}" selected="{{selected}}" selectedItem="{{selectedItem}}" selectedClass="{{selectedClass}}" valueattr="{{valueattr}}" multi="{{multi}}" modal>
        <content select="*"></content>
      </polymer-ui-overlay-menu>
    </div>
  </template>
  <script>
    Polymer('polymer-ui-menu-button', {
      icon: 'dots',
      src: '',
      selected: '',
      opened: false,
      responsive: false,
      valign: 'center',
      multi: false,
      //* Toggle the opened state of the dropdown.
      toggle: function() {
        this.opened = !this.opened;
      },
      //* Returns the selected item.
      get selection() {
        return this.$.overlay.selection;
      }
    });
  </script>
</polymer-element>